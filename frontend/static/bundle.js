(()=>{"use strict";var t={986:(t,e,s)=>{s.d(e,{I:()=>a});var n=s(607);function r(t){let e,s;return{c(){e=(0,n.e)("div"),s=(0,n.t)(t[4]),this.h()},l(r){e=(0,n.c)(r,"DIV",{class:!0});var o=(0,n.a)(e);s=(0,n.h)(o,t[4]),o.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","error")},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p(t,e){16&e&&(0,n.j)(s,t[4])},d(t){t&&(0,n.d)(e)}}}function o(t){let e,s,o,i,a,c=t[4]&&r(t);return{c(){e=(0,n.e)("div"),c&&c.c(),s=(0,n.k)(),o=(0,n.e)("input"),this.h()},l(t){e=(0,n.c)(t,"DIV",{});var r=(0,n.a)(e);c&&c.l(r),s=(0,n.m)(r),o=(0,n.c)(r,"INPUT",{class:!0,placeholder:!0,maxlength:!0}),r.forEach(n.d),this.h()},h(){(0,n.b)(o,"class","red-input"),(0,n.b)(o,"placeholder",t[1]),(0,n.b)(o,"maxlength",t[2])},m(r,l){(0,n.g)(r,e,l),c&&c.m(e,null),(0,n.G)(e,s),(0,n.G)(e,o),t[11](o),(0,n.P)(o,t[5]),i||(a=[(0,n.M)(o,"input",t[12]),(0,n.M)(o,"input",t[13])],i=!0)},p(t,[i]){t[4]?c?c.p(t,i):(c=r(t),c.c(),c.m(e,s)):c&&(c.d(1),c=null),2&i&&(0,n.b)(o,"placeholder",t[1]),4&i&&(0,n.b)(o,"maxlength",t[2]),32&i&&o.value!==t[5]&&(0,n.P)(o,t[5])},i:n.E,o:n.E,d(s){s&&(0,n.d)(e),c&&c.d(),t[11](null),i=!1,(0,n.Q)(a)}}}function i(t,e,s){let r,o,{verify:i}=e,{placeholder:a}=e,{maxlength:c}=e,l="";function h(){return l}return t.$$set=t=>{"verify"in t&&s(0,i=t.verify),"placeholder"in t&&s(1,a=t.placeholder),"maxlength"in t&&s(2,c=t.maxlength)},[i,a,c,r,o,l,function(){return s(4,o=i(h())),void 0===o||(r.animate([{transform:"translateX(0px)"},{transform:"translateX(4px)"},{transform:"translateX(-4px)"},{transform:"translateX(2px)"},{transform:"translateX(-2px)"},{transform:"translateX(0px)"}],{duration:400}),!1)},function(t){s(4,o=t)},h,function(t){s(5,l=t)},function(){r.focus()},function(t){n.O[t?"unshift":"push"]((()=>{r=t,s(3,r)}))},async t=>{s(4,o=i(t.target.value))},function(){l=this.value,s(5,l)}]}class a extends n.S{constructor(t){super(),(0,n.i)(this,t,i,o,n.s,{verify:0,placeholder:1,maxlength:2,ok:6,setError:7,getValue:8,setValue:9,focus:10})}get ok(){return this.$$.ctx[6]}get setError(){return this.$$.ctx[7]}get getValue(){return this.$$.ctx[8]}get setValue(){return this.$$.ctx[9]}get focus(){return this.$$.ctx[10]}}},318:(t,e,s)=>{s.d(e,{L:()=>a});var n=s(607),r=s(869),o=s(249);function i(t,e,s){let i,{on:a}=e,{handler:c}=e,l=(0,o.w)();return(0,n.v)((()=>(l.subscribe((t=>{r.s.removeListener(i,c),i=t,r.s.on(i,c)})),()=>{r.s.removeListener(i,c)}))),t.$$set=t=>{"on"in t&&s(0,a=t.on),"handler"in t&&s(1,c=t.handler)},t.$$.update=()=>{1&t.$$.dirty&&l.set(a)},[a,c]}class a extends n.S{constructor(t){super(),(0,n.i)(this,t,i,null,n.s,{on:0,handler:1})}}},607:(t,e,s)=>{function n(){}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function a(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function h(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(t,e,s){t.$$.on_destroy.push(function(t,...e){if(null==t)return n;const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}(e,s))}function d(t,e,s,n){if(t){const r=f(t,e,s,n);return t[0](r)}}function f(t,e,s,n){return t[1]&&n?function(t,e){for(const s in e)t[s]=e[s];return t}(s.ctx.slice(),t[1](n(e))):s.ctx}function p(t,e,s,n){if(t[2]&&n){const r=t[2](n(s));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],s=Math.max(e.dirty.length,r.length);for(let n=0;n<s;n+=1)t[n]=e.dirty[n]|r[n];return t}return e.dirty|r}return e.dirty}function m(t,e,s,n,r,o){if(r){const i=f(e,s,n,o);t.p(i,r)}}function g(t){if(t.ctx.length>32){const e=[],s=t.ctx.length/32;for(let t=0;t<s;t++)e[t]=-1;return e}return-1}s.d(e,{B:()=>nt,E:()=>n,F:()=>d,G:()=>k,H:()=>m,I:()=>g,J:()=>p,K:()=>u,L:()=>_,M:()=>A,N:()=>h,O:()=>M,P:()=>C,Q:()=>i,R:()=>a,S:()=>ot,a:()=>R,b:()=>N,c:()=>S,d:()=>$,e:()=>w,f:()=>I,g:()=>E,h:()=>T,i:()=>rt,j:()=>j,k:()=>x,l:()=>O,m:()=>B,o:()=>Z,q:()=>Q,s:()=>c,t:()=>G,v:()=>q,w:()=>tt,x:()=>et,y:()=>st});let b,y=!1;function v(t,e,s,n){for(;t<e;){const r=t+(e-t>>1);s(r)<=n?t=r+1:e=r}return t}function k(t,e){if(y){for(function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let s=0;s<e.length;s++){const n=e[s];void 0!==n.claim_order&&t.push(n)}e=t}const s=new Int32Array(e.length+1),n=new Int32Array(e.length);s[0]=-1;let r=0;for(let t=0;t<e.length;t++){const o=e[t].claim_order,i=(r>0&&e[s[r]].claim_order<=o?r+1:v(1,r,(t=>e[s[t]].claim_order),o))-1;n[t]=s[i]+1;const a=i+1;s[a]=t,r=Math.max(a,r)}const o=[],i=[];let a=e.length-1;for(let t=s[r]+1;0!=t;t=n[t-1]){for(o.push(e[t-1]);a>=t;a--)i.push(e[a]);a--}for(;a>=0;a--)i.push(e[a]);o.reverse(),i.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,s=0;e<i.length;e++){for(;s<o.length&&i[e].claim_order>=o[s].claim_order;)s++;const n=s<o.length?o[s]:null;t.insertBefore(i[e],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(void 0!==e.claim_order||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||null!==e.nextSibling)&&t.appendChild(e)}function E(t,e,s){y&&!s?k(t,e):(e.parentNode!==t||e.nextSibling!=s)&&t.insertBefore(e,s||null)}function $(t){t.parentNode.removeChild(t)}function _(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function w(t){return document.createElement(t)}function G(t){return document.createTextNode(t)}function x(){return G(" ")}function O(){return G("")}function A(t,e,s,n){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)}function N(t,e,s){null==s?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function R(t){return Array.from(t.childNodes)}function L(t,e,s,n,r=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const o=(()=>{for(let n=t.claim_info.last_index;n<t.length;n++){const o=t[n];if(e(o)){const e=s(o);return void 0===e?t.splice(n,1):t[n]=e,r||(t.claim_info.last_index=n),o}}for(let n=t.claim_info.last_index-1;n>=0;n--){const o=t[n];if(e(o)){const e=s(o);return void 0===e?t.splice(n,1):t[n]=e,r?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=n,o}}return n()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function S(t,e,s){return function(t,e,s,n){return L(t,(t=>t.nodeName===e),(t=>{const e=[];for(let n=0;n<t.attributes.length;n++){const r=t.attributes[n];s[r.name]||e.push(r.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>n(e)))}(t,e,s,w)}function T(t,e){return L(t,(t=>3===t.nodeType),(t=>{const s=""+e;if(t.data.startsWith(s)){if(t.data.length!==s.length)return t.splitText(s.length)}else t.data=s}),(()=>G(e)),!0)}function B(t){return T(t," ")}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function I(t,e,s,n){null===s?t.style.removeProperty(e):t.style.setProperty(e,s,n?"important":"")}function P(t){b=t}function q(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const D=[],M=[],V=[],U=[],H=Promise.resolve();let F=!1;function z(t){V.push(t)}const K=new Set;let Y=0;function J(){const t=b;do{for(;Y<D.length;){const t=D[Y];Y++,P(t),W(t.$$)}for(P(null),D.length=0,Y=0;M.length;)M.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];K.has(e)||(K.add(e),e())}V.length=0}while(D.length);for(;U.length;)U.pop()();F=!1,K.clear(),P(t)}function W(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const X=new Set;function Q(t,e){t&&t.i&&(X.delete(t),t.i(e))}function Z(t,e,s,n){if(t&&t.o){if(X.has(t))return;X.add(t),undefined.c.push((()=>{X.delete(t),n&&(s&&t.d(1),n())})),t.o(e)}}function tt(t){t&&t.c()}function et(t,e){t&&t.l(e)}function st(t,e,s,n){const{fragment:o,on_mount:c,on_destroy:l,after_update:h}=t.$$;o&&o.m(e,s),n||z((()=>{const e=c.map(r).filter(a);l?l.push(...e):i(e),t.$$.on_mount=[]})),h.forEach(z)}function nt(t,e){const s=t.$$;null!==s.fragment&&(i(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function rt(t,e,s,r,a,c,l,h=[-1]){const u=b;P(t);const d=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:o(),dirty:h,skip_bound:!1,root:e.target||u.$$.root};l&&l(d.root);let f=!1;if(d.ctx=s?s(t,e.props||{},((e,s,...n)=>{const r=n.length?n[0]:s;return d.ctx&&a(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&function(t,e){-1===t.$$.dirty[0]&&(D.push(t),F||(F=!0,H.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),s})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!r&&r(d.ctx),e.target){if(e.hydrate){y=!0;const t=R(e.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();e.intro&&Q(t.$$.fragment),st(t,e.target,e.anchor,e.customElement),y=!1,J()}P(u)}class ot{$destroy(){nt(this,1),this.$destroy=n}$on(t,e){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}},869:(t,e,s)=>{s.d(e,{a:()=>$t,c:()=>vt,g:()=>Et,s:()=>bt,u:()=>yt});var n=s(249);const r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const o=Object.create(null);Object.keys(r).forEach((t=>{o[r[t]]=t}));const i={type:"error",data:"parser error"},a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,l=({type:t,data:e},s,n)=>a&&e instanceof Blob?s?n(e):h(e,n):c&&(e instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer)(e))?s?n(e):h(new Blob([e]),n):n(r[t]+(e||"")),h=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+t)},s.readAsDataURL(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<u.length;t++)d[u.charCodeAt(t)]=t;const f="function"==typeof ArrayBuffer,p=(t,e)=>{if("string"!=typeof t)return{type:"message",data:g(t,e)};const s=t.charAt(0);return"b"===s?{type:"message",data:m(t.substring(1),e)}:o[s]?t.length>1?{type:o[s],data:t.substring(1)}:{type:o[s]}:i},m=(t,e)=>{if(f){const s=(t=>{let e,s,n,r,o,i=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);const l=new ArrayBuffer(i),h=new Uint8Array(l);for(e=0;e<a;e+=4)s=d[t.charCodeAt(e)],n=d[t.charCodeAt(e+1)],r=d[t.charCodeAt(e+2)],o=d[t.charCodeAt(e+3)],h[c++]=s<<2|n>>4,h[c++]=(15&n)<<4|r>>2,h[c++]=(3&r)<<6|63&o;return l})(t);return g(s,e)}return{base64:!0,data:t}},g=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,b=String.fromCharCode(30);function y(t){if(t)return function(t){for(var e in y.prototype)t[e]=y.prototype[e];return t}(t)}y.prototype.on=y.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},y.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},y.prototype.off=y.prototype.removeListener=y.prototype.removeAllListeners=y.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,r=0;r<s.length;r++)if((n=s[r])===e||n.fn===e){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},y.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var r=(s=s.slice(0)).length;n<r;++n)s[n].apply(this,e)}return this},y.prototype.emitReserved=y.prototype.emit,y.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},y.prototype.hasListeners=function(t){return!!this.listeners(t).length};const v="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function k(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const E=setTimeout,$=clearTimeout;function _(t,e){e.useNativeTimers?(t.setTimeoutFn=E.bind(v),t.clearTimeoutFn=$.bind(v)):(t.setTimeoutFn=setTimeout.bind(v),t.clearTimeoutFn=clearTimeout.bind(v))}class w extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class G extends y{constructor(t){super(),this.writable=!1,_(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new w(t,e,s)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=p(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),O={};let A,N=0,R=0;function L(t){let e="";do{e=x[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function S(){const t=L(+new Date);return t!==A?(N=0,A=t):t+"."+L(N++)}for(;R<64;R++)O[x[R]]=R;function T(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}let B=!1;try{B="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch{}const j=B;function C(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||j))return new XMLHttpRequest}catch{}if(!e)try{return new(v[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function I(){}const P=null!=new C({xdomain:!1}).responseType;class q extends y{constructor(t,e){super(),_(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=k(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new C(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch{}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=q.requestsCount++,q.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=I,t)try{this.xhr.abort()}catch{}"undefined"!=typeof document&&delete q.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function D(){for(let t in q.requests)q.requests.hasOwnProperty(t)&&q.requests[t].abort()}q.requestsCount=0,q.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",D):"function"==typeof addEventListener&&addEventListener("onpagehide"in v?"pagehide":"unload",D,!1));const M="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),V=v.WebSocket||v.MozWebSocket,U="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),H={websocket:class extends G{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=U?{}:k(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=U?new V(t,e,s):e?new V(t,e):new V(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;l(s,this.supportsBinary,(t=>{try{this.ws.send(t)}catch{}n&&M((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=S()),this.supportsBinary||(t.b64=1);const n=T(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}check(){return!!V}},polling:class extends G{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=P&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(b),n=[];for(let t=0;t<s.length;t++){const r=p(s[t],e);if(n.push(r),"error"===r.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let r=0;t.forEach(((t,o)=>{l(t,!1,(t=>{n[o]=t,++r===s&&e(n.join(b))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let s="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=S()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port);const n=T(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new q(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},F=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function K(t){const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let r=F.exec(t||""),o={},i=14;for(;i--;)o[z[i]]=r[i]||"";return-1!=s&&-1!=n&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const s=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&s.splice(0,1),"/"==e.substr(e.length-1,1)&&s.splice(s.length-1,1),s}(0,o.path),o.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,o.query),o}class Y extends y{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=K(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=K(e.host).host),_(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new H[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Y.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;Y.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Y.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function r(){s||(s=!0,l(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,r(),this.emitReserved("upgradeError",s)};function i(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&r()}const l=()=>{e.removeListener("open",n),e.removeListener("error",o),e.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};e.once("open",n),e.once("error",o),e.once("close",i),this.once("close",a),this.once("upgrading",c),e.open()}onOpen(){if(this.readyState="open",Y.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,r=t.length;n<r;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const r={type:t,data:e,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){Y.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const n=t.length;for(;s<n;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}Y.protocol=4;const J="function"==typeof ArrayBuffer,W=Object.prototype.toString,X="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===W.call(Blob),Q="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===W.call(File);function Z(t){return J&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||X&&t instanceof Blob||Q&&t instanceof File}function tt(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(tt(t[e]))return!0;return!1}if(Z(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return tt(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&tt(t[e]))return!0;return!1}function et(t){const e=[],s=t.data,n=t;return n.data=st(s,e),n.attachments=e.length,{packet:n,buffers:e}}function st(t,e){if(!t)return t;if(Z(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=st(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=st(t[n],e));return s}return t}function nt(t,e){return t.data=rt(t.data,e),t.attachments=void 0,t}function rt(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=rt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=rt(t[s],e));return t}var ot,it;(it=ot||(ot={}))[it.CONNECT=0]="CONNECT",it[it.DISCONNECT=1]="DISCONNECT",it[it.EVENT=2]="EVENT",it[it.ACK=3]="ACK",it[it.CONNECT_ERROR=4]="CONNECT_ERROR",it[it.BINARY_EVENT=5]="BINARY_EVENT",it[it.BINARY_ACK=6]="BINARY_ACK";class at extends y{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===ot.BINARY_EVENT||e.type===ot.BINARY_ACK?(this.reconstructor=new ct(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e);else{if(!Z(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===ot[s.type])throw new Error("unknown packet type "+s.type);if(s.type===ot.BINARY_EVENT||s.type===ot.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(n,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(r)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!at.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case ot.CONNECT:return"object"==typeof e;case ot.DISCONNECT:return void 0===e;case ot.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case ot.EVENT:case ot.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case ot.ACK:case ot.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class ct{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=nt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var lt=Object.freeze(Object.defineProperty({__proto__:null,protocol:5,get PacketType(){return ot},Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==ot.EVENT&&t.type!==ot.ACK||!tt(t)?[this.encodeAsString(t)]:(t.type=t.type===ot.EVENT?ot.BINARY_EVENT:ot.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===ot.BINARY_EVENT||t.type===ot.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=et(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}},Decoder:at},Symbol.toStringTag,{value:"Module"}));function ht(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const ut=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dt extends y{constructor(t,e,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ht(t,"open",this.onopen.bind(this)),ht(t,"packet",this.onpacket.bind(this)),ht(t,"error",this.onerror.bind(this)),ht(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(ut.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const s={type:ot.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),s.id=t}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){const s=this.flags.timeout;if(void 0===s)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this.packet({type:ot.CONNECT,data:t})})):this.packet({type:ot.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ot.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ot.EVENT:case ot.BINARY_EVENT:this.onevent(t);break;case ot.ACK:case ot.BINARY_ACK:this.onack(t);break;case ot.DISCONNECT:this.ondisconnect();break;case ot.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:ot.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ot.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function ft(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ft.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},ft.prototype.reset=function(){this.attempts=0},ft.prototype.setMin=function(t){this.ms=t},ft.prototype.setMax=function(t){this.max=t},ft.prototype.setJitter=function(t){this.jitter=t};class pt extends y{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,_(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new ft({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||lt;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Y(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=ht(e,"open",(function(){s.onopen(),t&&t()})),r=ht(e,"error",(e=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",e),t?t(e):s.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&n();const s=this.setTimeoutFn((()=>{n(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(n),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ht(t,"ping",this.onping.bind(this)),ht(t,"data",this.ondata.bind(this)),ht(t,"error",this.onerror.bind(this)),ht(t,"close",this.onclose.bind(this)),ht(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s||(s=new dt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const mt={};function gt(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=K(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+e,n.href=n.protocol+"://"+r+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,r=s.id,o=s.path,i=mt[r]&&o in mt[r].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||i?a=new pt(n,e):(mt[r]||(mt[r]=new pt(n,e)),a=mt[r]),s.query&&!e.query&&(e.query=s.queryKey),a.socket(s.path,e)}Object.assign(gt,{Manager:pt,Socket:dt,io:gt,connect:gt});let bt,yt=(0,n.w)(),vt=(0,n.w)(!0);var kt;yt.set(null!=(kt=localStorage.getItem("user"))?kt:""),yt.subscribe((t=>{localStorage.setItem("user",t)})),bt=gt(`http://${location.hostname}:4000`),bt.on("connect",(()=>vt.set(!0))),bt.on("connect_error",(()=>vt.set(!1))),bt.on("disconnect",(()=>vt.set(!1))),n.c.disable_scroll_handling;const Et=n.c.goto;n.c.invalidate,n.c.prefetch,n.c.prefetch_routes,n.c.before_navigate;const $t=n.c.after_navigate},249:(t,e,s)=>{s.d(e,{c:()=>{},w:()=>o});var n=s(607);const r=[];function o(t,e=n.E){let s;const o=new Set;function i(e){if((0,n.s)(t,e)&&(t=e,s)){const e=!r.length;for(const e of o)e[1](),r.push(e,t);if(e){for(let t=0;t<r.length;t+=2)r[t][0](r[t+1]);r.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(r,a=n.E){const c=[r,a];return o.add(c),1===o.size&&(s=e(i)||n.E),r(t),()=>{o.delete(c),0===o.size&&(s(),s=null)}}}}},50:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l,load:()=>a});var n=s(607);function r(t){let e,s,r=t[1].frame+"";return{c(){e=(0,n.e)("pre"),s=(0,n.t)(r)},l(t){e=(0,n.c)(t,"PRE",{});var o=(0,n.a)(e);s=(0,n.h)(o,r),o.forEach(n.d)},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p(t,e){2&e&&r!==(r=t[1].frame+"")&&(0,n.j)(s,r)},d(t){t&&(0,n.d)(e)}}}function o(t){let e,s,r=t[1].stack+"";return{c(){e=(0,n.e)("pre"),s=(0,n.t)(r)},l(t){e=(0,n.c)(t,"PRE",{});var o=(0,n.a)(e);s=(0,n.h)(o,r),o.forEach(n.d)},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p(t,e){2&e&&r!==(r=t[1].stack+"")&&(0,n.j)(s,r)},d(t){t&&(0,n.d)(e)}}}function i(t){let e,s,i,a,c,l,h,u,d=t[1].message+"",f=t[1].frame&&r(t),p=t[1].stack&&o(t);return{c(){e=(0,n.e)("h1"),s=(0,n.t)(t[0]),i=(0,n.k)(),a=(0,n.e)("pre"),c=(0,n.t)(d),l=(0,n.k)(),f&&f.c(),h=(0,n.k)(),p&&p.c(),u=(0,n.l)()},l(r){e=(0,n.c)(r,"H1",{});var o=(0,n.a)(e);s=(0,n.h)(o,t[0]),o.forEach(n.d),i=(0,n.m)(r),a=(0,n.c)(r,"PRE",{});var m=(0,n.a)(a);c=(0,n.h)(m,d),m.forEach(n.d),l=(0,n.m)(r),f&&f.l(r),h=(0,n.m)(r),p&&p.l(r),u=(0,n.l)()},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s),(0,n.g)(t,i,r),(0,n.g)(t,a,r),(0,n.G)(a,c),(0,n.g)(t,l,r),f&&f.m(t,r),(0,n.g)(t,h,r),p&&p.m(t,r),(0,n.g)(t,u,r)},p(t,[e]){1&e&&(0,n.j)(s,t[0]),2&e&&d!==(d=t[1].message+"")&&(0,n.j)(c,d),t[1].frame?f?f.p(t,e):(f=r(t),f.c(),f.m(h.parentNode,h)):f&&(f.d(1),f=null),t[1].stack?p?p.p(t,e):(p=o(t),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i:n.E,o:n.E,d(t){t&&(0,n.d)(e),t&&(0,n.d)(i),t&&(0,n.d)(a),t&&(0,n.d)(l),f&&f.d(t),t&&(0,n.d)(h),p&&p.d(t),t&&(0,n.d)(u)}}}function a({error:t,status:e}){return{props:{error:t,status:e}}}function c(t,e,s){let{status:n}=e,{error:r}=e;return t.$$set=t=>{"status"in t&&s(0,n=t.status),"error"in t&&s(1,r=t.error)},[n,r]}class l extends n.S{constructor(t){super(),(0,n.i)(this,t,c,i,n.s,{status:0,error:1})}}},655:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var n=s(607),r=s(869);function o(t){let e,s;return{c(){e=(0,n.e)("div"),s=(0,n.t)("DISCONNECTED"),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"DISCONNECTED"),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","disconnected svelte-1yow2pd")},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},d(t){t&&(0,n.d)(e)}}}function i(t){let e,s,r;const i=t[2].default,a=(0,n.F)(i,t,t[1],null);let c=!t[0]&&o();return{c(){a&&a.c(),e=(0,n.k)(),c&&c.c(),s=(0,n.l)()},l(t){a&&a.l(t),e=(0,n.m)(t),c&&c.l(t),s=(0,n.l)()},m(t,o){a&&a.m(t,o),(0,n.g)(t,e,o),c&&c.m(t,o),(0,n.g)(t,s,o),r=!0},p(t,[e]){a&&a.p&&(!r||2&e)&&(0,n.H)(a,i,t,t[1],r?(0,n.J)(i,t[1],e,null):(0,n.I)(t[1]),null),t[0]?c&&(c.d(1),c=null):c||(c=o(),c.c(),c.m(s.parentNode,s))},i(t){r||((0,n.q)(a,t),r=!0)},o(t){(0,n.o)(a,t),r=!1},d(t){a&&a.d(t),t&&(0,n.d)(e),c&&c.d(t),t&&(0,n.d)(s)}}}function a(t,e,s){let o,i;(0,n.K)(t,r.u,(t=>s(3,o=t))),(0,n.K)(t,r.c,(t=>s(0,i=t)));let{$$slots:a={},$$scope:c}=e;{let t=function(){"/"!==location.pathname&&(void 0===o||""===o)&&(0,r.g)("/")};(0,r.a)(t),r.u.subscribe(t)}return t.$$set=t=>{"$$scope"in t&&s(1,c=t.$$scope)},[i,c,a]}s(249);class c extends n.S{constructor(t){super(),(0,n.i)(this,t,a,i,n.s,{})}}},423:(t,e,s)=>{s.r(e),s.d(e,{default:()=>T});var n=s(607),r=s(869),o=s(318),i=(s(249),Object.defineProperty),a=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;function f(t,e,s){const n=t.slice();return n[21]=e[s],n[23]=s,n}function p(t,e,s){const n=t.slice();return n[24]=e[s],n}function m(t,e,s){const n=t.slice();return n[27]=e[s],n}function g(t,e,s){const n=t.slice();return n[24]=e[s],n}function b(t,e,s){const n=t.slice();return n[27]=e[s],n}function y(t,e,s){const n=t.slice();return n[34]=e[s][0],n[35]=e[s][1].username,n[36]=e[s][1].heights,n[37]=e[s][1].scores,n[10]=e[s][1].gameover,n}function v(t,e,s){const n=t.slice();return n[40]=e[s],n}function k(t){let e;return{c(){e=(0,n.e)("div"),this.h()},l(t){e=(0,n.c)(t,"DIV",{style:!0,class:!0}),(0,n.a)(e).forEach(n.d),this.h()},h(){(0,n.f)(e,"height",t[40]/20*100+"%"),(0,n.b)(e,"class","svelte-motlbc")},m(t,s){(0,n.g)(t,e,s)},p(t,s){2&s[0]&&(0,n.f)(e,"height",t[40]/20*100+"%")},d(t){t&&(0,n.d)(e)}}}function E(t){let e,s,r,o,i,a,c,l,h,u=t[35]+"",d=t[37].score+"",f=t[36],p=[];for(let e=0;e<f.length;e+=1)p[e]=k(v(t,f,e));return{c(){e=(0,n.e)("div"),s=(0,n.t)(u),r=(0,n.e)("br"),o=(0,n.k)(),i=(0,n.t)(d),a=(0,n.k)(),c=(0,n.e)("div");for(let t=0;t<p.length;t+=1)p[t].c();h=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var l=(0,n.a)(e);s=(0,n.h)(l,u),r=(0,n.c)(l,"BR",{}),o=(0,n.m)(l),i=(0,n.h)(l,d),a=(0,n.m)(l),c=(0,n.c)(l,"DIV",{class:!0});var f=(0,n.a)(c);for(let t=0;t<p.length;t+=1)p[t].l(f);f.forEach(n.d),h=(0,n.m)(l),l.forEach(n.d),this.h()},h(){(0,n.b)(c,"class",l="small-board "+(t[10]?"small-gameover":"")+" svelte-motlbc"),(0,n.b)(e,"class","svelte-motlbc")},m(t,l){(0,n.g)(t,e,l),(0,n.G)(e,s),(0,n.G)(e,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(e,a),(0,n.G)(e,c);for(let t=0;t<p.length;t+=1)p[t].m(c,null);(0,n.G)(e,h)},p(t,e){if(2&e[0]&&u!==(u=t[35]+"")&&(0,n.j)(s,u),2&e[0]&&d!==(d=t[37].score+"")&&(0,n.j)(i,d),2&e[0]){let s;for(f=t[36],s=0;s<f.length;s+=1){const n=v(t,f,s);p[s]?p[s].p(n,e):(p[s]=k(n),p[s].c(),p[s].m(c,null))}for(;s<p.length;s+=1)p[s].d(1);p.length=f.length}2&e[0]&&l!==(l="small-board "+(t[10]?"small-gameover":"")+" svelte-motlbc")&&(0,n.b)(c,"class",l)},d(t){t&&(0,n.d)(e),(0,n.L)(p,t)}}}function $(t){let e,s,r,o,i,a,c,l,h;return{c(){e=(0,n.e)("div"),s=(0,n.e)("h2"),r=(0,n.t)("GAMEOVER"),o=(0,n.k)(),i=(0,n.e)("div"),a=(0,n.t)("SCORE"),c=(0,n.e)("br"),l=(0,n.k)(),h=(0,n.t)(t[3]),this.h()},l(u){e=(0,n.c)(u,"DIV",{class:!0});var d=(0,n.a)(e);s=(0,n.c)(d,"H2",{});var f=(0,n.a)(s);r=(0,n.h)(f,"GAMEOVER"),f.forEach(n.d),o=(0,n.m)(d),i=(0,n.c)(d,"DIV",{class:!0});var p=(0,n.a)(i);a=(0,n.h)(p,"SCORE"),c=(0,n.c)(p,"BR",{}),l=(0,n.m)(p),h=(0,n.h)(p,t[3]),p.forEach(n.d),d.forEach(n.d),this.h()},h(){(0,n.b)(i,"class","gameover-score svelte-motlbc"),(0,n.b)(e,"class","gameover svelte-motlbc")},m(t,u){(0,n.g)(t,e,u),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(i,a),(0,n.G)(i,c),(0,n.G)(i,l),(0,n.G)(i,h)},p(t,e){8&e[0]&&(0,n.j)(h,t[3])},d(t){t&&(0,n.d)(e)}}}function _(t){let e,s;return{c(){e=(0,n.e)("div"),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0}),(0,n.a)(e).forEach(n.d),this.h()},h(){(0,n.b)(e,"class",s="cell cell-"+t[27]+" svelte-motlbc")},m(t,s){(0,n.g)(t,e,s)},p(t,r){4&r[0]&&s!==(s="cell cell-"+t[27]+" svelte-motlbc")&&(0,n.b)(e,"class",s)},d(t){t&&(0,n.d)(e)}}}function w(t){let e,s,r=t[24],o=[];for(let e=0;e<r.length;e+=1)o[e]=_(b(t,r,e));return{c(){e=(0,n.e)("div");for(let t=0;t<o.length;t+=1)o[t].c();s=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var r=(0,n.a)(e);for(let t=0;t<o.length;t+=1)o[t].l(r);s=(0,n.m)(r),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","row svelte-motlbc")},m(t,r){(0,n.g)(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);(0,n.G)(e,s)},p(t,n){if(4&n[0]){let i;for(r=t[24],i=0;i<r.length;i+=1){const a=b(t,r,i);o[i]?o[i].p(a,n):(o[i]=_(a),o[i].c(),o[i].m(e,s))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&(0,n.d)(e),(0,n.L)(o,t)}}}function G(t){let e,s;return{c(){e=(0,n.e)("div"),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0}),(0,n.a)(e).forEach(n.d),this.h()},h(){(0,n.b)(e,"class",s="cell cell-"+(t[27]?t[6].colorid:0)+" svelte-motlbc")},m(t,s){(0,n.g)(t,e,s)},p(t,r){64&r[0]&&s!==(s="cell cell-"+(t[27]?t[6].colorid:0)+" svelte-motlbc")&&(0,n.b)(e,"class",s)},d(t){t&&(0,n.d)(e)}}}function x(t){let e,s,r=t[24],o=[];for(let e=0;e<r.length;e+=1)o[e]=G(m(t,r,e));return{c(){e=(0,n.e)("div");for(let t=0;t<o.length;t+=1)o[t].c();s=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var r=(0,n.a)(e);for(let t=0;t<o.length;t+=1)o[t].l(r);s=(0,n.m)(r),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","row svelte-motlbc")},m(t,r){(0,n.g)(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);(0,n.G)(e,s)},p(t,n){if(64&n[0]){let i;for(r=t[24],i=0;i<r.length;i+=1){const a=m(t,r,i);o[i]?o[i].p(a,n):(o[i]=G(a),o[i].c(),o[i].m(e,s))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&(0,n.d)(e),(0,n.L)(o,t)}}}function O(t){let e,s,r,o;return{c(){e=(0,n.e)("button"),s=(0,n.t)("LEAVE"),this.h()},l(t){e=(0,n.c)(t,"BUTTON",{class:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"LEAVE"),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","red-button")},m(i,a){(0,n.g)(i,e,a),(0,n.G)(e,s),r||(o=(0,n.M)(e,"click",t[18]),r=!0)},p:n.E,d(t){t&&(0,n.d)(e),r=!1,o()}}}function A(t){let e,s,r,o,i,a,c,l,h,u,d,p,m,g,b,y,v,k,E,$,_,w=t[7],G=[];for(let e=0;e<w.length;e+=1)G[e]=N(f(t,w,e));let x=t[5]&&R(t);return{c(){e=(0,n.e)("div"),s=(0,n.e)("h2"),r=(0,n.t)("Scores"),o=(0,n.k)(),i=(0,n.e)("div"),a=(0,n.e)("p"),c=(0,n.t)("Top"),l=(0,n.k)(),h=(0,n.e)("p"),u=(0,n.t)("Name"),d=(0,n.k)(),p=(0,n.e)("p"),m=(0,n.t)("score"),g=(0,n.k)();for(let t=0;t<G.length;t+=1)G[t].c();b=(0,n.k)(),y=(0,n.e)("div"),v=(0,n.e)("button"),k=(0,n.t)("LEAVE"),E=(0,n.k)(),x&&x.c(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var f=(0,n.a)(e);s=(0,n.c)(f,"H2",{});var $=(0,n.a)(s);r=(0,n.h)($,"Scores"),$.forEach(n.d),o=(0,n.m)(f),i=(0,n.c)(f,"DIV",{class:!0});var _=(0,n.a)(i);a=(0,n.c)(_,"P",{});var w=(0,n.a)(a);c=(0,n.h)(w,"Top"),w.forEach(n.d),l=(0,n.m)(_),h=(0,n.c)(_,"P",{});var O=(0,n.a)(h);u=(0,n.h)(O,"Name"),O.forEach(n.d),d=(0,n.m)(_),p=(0,n.c)(_,"P",{});var A=(0,n.a)(p);m=(0,n.h)(A,"score"),A.forEach(n.d),_.forEach(n.d),g=(0,n.m)(f);for(let t=0;t<G.length;t+=1)G[t].l(f);b=(0,n.m)(f),y=(0,n.c)(f,"DIV",{class:!0});var N=(0,n.a)(y);v=(0,n.c)(N,"BUTTON",{class:!0});var R=(0,n.a)(v);k=(0,n.h)(R,"LEAVE"),R.forEach(n.d),E=(0,n.m)(N),x&&x.l(N),N.forEach(n.d),f.forEach(n.d),this.h()},h(){(0,n.b)(i,"class","score-div svelte-motlbc"),(0,n.b)(v,"class","red-button"),(0,n.b)(y,"class","action"),(0,n.b)(e,"class","card card-endgame svelte-motlbc")},m(f,w){(0,n.g)(f,e,w),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(i,a),(0,n.G)(a,c),(0,n.G)(i,l),(0,n.G)(i,h),(0,n.G)(h,u),(0,n.G)(i,d),(0,n.G)(i,p),(0,n.G)(p,m),(0,n.G)(e,g);for(let t=0;t<G.length;t+=1)G[t].m(e,null);(0,n.G)(e,b),(0,n.G)(e,y),(0,n.G)(y,v),(0,n.G)(v,k),(0,n.G)(y,E),x&&x.m(y,null),$||(_=(0,n.M)(v,"click",t[19]),$=!0)},p(t,s){if(128&s[0]){let n;for(w=t[7],n=0;n<w.length;n+=1){const r=f(t,w,n);G[n]?G[n].p(r,s):(G[n]=N(r),G[n].c(),G[n].m(e,b))}for(;n<G.length;n+=1)G[n].d(1);G.length=w.length}t[5]?x?x.p(t,s):(x=R(t),x.c(),x.m(y,null)):x&&(x.d(1),x=null)},d(t){t&&(0,n.d)(e),(0,n.L)(G,t),x&&x.d(),$=!1,_()}}}function N(t){let e,s,r,o,i,a,c,l,h,u,d,f=t[23]+1+"",p=t[21].username+"",m=t[21].score+"";return{c(){e=(0,n.e)("div"),s=(0,n.e)("p"),r=(0,n.t)(f),o=(0,n.k)(),i=(0,n.e)("p"),a=(0,n.t)(p),c=(0,n.k)(),l=(0,n.e)("p"),h=(0,n.t)(m),u=(0,n.k)(),d=(0,n.e)("hr"),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var g=(0,n.a)(e);s=(0,n.c)(g,"P",{});var b=(0,n.a)(s);r=(0,n.h)(b,f),b.forEach(n.d),o=(0,n.m)(g),i=(0,n.c)(g,"P",{});var y=(0,n.a)(i);a=(0,n.h)(y,p),y.forEach(n.d),c=(0,n.m)(g),l=(0,n.c)(g,"P",{});var v=(0,n.a)(l);h=(0,n.h)(v,m),v.forEach(n.d),g.forEach(n.d),u=(0,n.m)(t),d=(0,n.c)(t,"HR",{}),this.h()},h(){(0,n.b)(e,"class","score-div svelte-motlbc")},m(t,f){(0,n.g)(t,e,f),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(i,a),(0,n.G)(e,c),(0,n.G)(e,l),(0,n.G)(l,h),(0,n.g)(t,u,f),(0,n.g)(t,d,f)},p(t,e){128&e[0]&&p!==(p=t[21].username+"")&&(0,n.j)(a,p),128&e[0]&&m!==(m=t[21].score+"")&&(0,n.j)(h,m)},d(t){t&&(0,n.d)(e),t&&(0,n.d)(u),t&&(0,n.d)(d)}}}function R(t){let e,s,r,o;return{c(){e=(0,n.e)("button"),s=(0,n.t)("RESTART"),this.h()},l(t){e=(0,n.c)(t,"BUTTON",{class:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"RESTART"),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","red-button")},m(i,a){(0,n.g)(i,e,a),(0,n.G)(e,s),r||(o=(0,n.M)(e,"click",t[20]),r=!0)},p:n.E,d(t){t&&(0,n.d)(e),r=!1,o()}}}function L(t){let e,s,r,i,a,c,l,h,u,d,f,m,b,v,k,_,G,N,R,L,S,T,B,j,C,I,P,q,D,M,V,U,H,F,z,K,Y,J,W,X,Q,Z,tt,et,st,nt,rt,ot,it,at;e=new o.L({props:{on:"notauthorized:"+t[0],handler:t[14]}}),r=new o.L({props:{on:"owner:"+t[0],handler:t[15]}}),a=new o.L({props:{on:"connect",handler:t[11]}}),l=new o.L({props:{on:"endgame:"+t[0],handler:t[12]}}),u=new o.L({props:{on:"restart:"+t[0],handler:t[16]}}),f=new o.L({props:{on:"gameInfo:"+t[0],handler:t[17]}});let ct=[...t[1].entries()],lt=[];for(let e=0;e<ct.length;e+=1)lt[e]=E(y(t,ct,e));let ht=t[10]&&$(t),ut=t[2],dt=[];for(let e=0;e<ut.length;e+=1)dt[e]=w(g(t,ut,e));let ft=t[6].shape,pt=[];for(let e=0;e<ft.length;e+=1)pt[e]=x(p(t,ft,e));let mt=!t[8]&&O(t),gt=t[8]&&A(t);return{c(){(0,n.w)(e.$$.fragment),s=(0,n.k)(),(0,n.w)(r.$$.fragment),i=(0,n.k)(),(0,n.w)(a.$$.fragment),c=(0,n.k)(),(0,n.w)(l.$$.fragment),h=(0,n.k)(),(0,n.w)(u.$$.fragment),d=(0,n.k)(),(0,n.w)(f.$$.fragment),m=(0,n.k)(),b=(0,n.e)("main"),v=(0,n.e)("aside");for(let t=0;t<lt.length;t+=1)lt[t].c();k=(0,n.k)(),_=(0,n.e)("div"),ht&&ht.c(),G=(0,n.k)(),N=(0,n.e)("div");for(let t=0;t<dt.length;t+=1)dt[t].c();R=(0,n.k)(),L=(0,n.e)("aside"),S=(0,n.e)("h1"),T=(0,n.t)(t[0]),B=(0,n.k)(),j=(0,n.e)("h2"),C=(0,n.t)(t[9]),I=(0,n.k)(),P=(0,n.e)("div"),q=(0,n.t)("HIGH SCORE"),D=(0,n.e)("br"),M=(0,n.t)("\n\t\t\t0"),V=(0,n.e)("br"),U=(0,n.t)("\n\t\t\tSCORE"),H=(0,n.e)("br"),F=(0,n.k)(),z=(0,n.t)(t[3]),K=(0,n.e)("br"),Y=(0,n.t)("\n\t\t\tLINES"),J=(0,n.e)("br"),W=(0,n.k)(),X=(0,n.t)(t[4]),Q=(0,n.e)("br"),Z=(0,n.k)(),tt=(0,n.e)("br"),et=(0,n.k)(),st=(0,n.e)("div");for(let t=0;t<pt.length;t+=1)pt[t].c();nt=(0,n.k)(),mt&&mt.c(),rt=(0,n.k)(),gt&&gt.c(),this.h()},l(o){(0,n.x)(e.$$.fragment,o),s=(0,n.m)(o),(0,n.x)(r.$$.fragment,o),i=(0,n.m)(o),(0,n.x)(a.$$.fragment,o),c=(0,n.m)(o),(0,n.x)(l.$$.fragment,o),h=(0,n.m)(o),(0,n.x)(u.$$.fragment,o),d=(0,n.m)(o),(0,n.x)(f.$$.fragment,o),m=(0,n.m)(o),b=(0,n.c)(o,"MAIN",{class:!0});var p=(0,n.a)(b);v=(0,n.c)(p,"ASIDE",{class:!0});var g=(0,n.a)(v);for(let t=0;t<lt.length;t+=1)lt[t].l(g);g.forEach(n.d),k=(0,n.m)(p),_=(0,n.c)(p,"DIV",{class:!0});var y=(0,n.a)(_);ht&&ht.l(y),G=(0,n.m)(y),N=(0,n.c)(y,"DIV",{class:!0});var E=(0,n.a)(N);for(let t=0;t<dt.length;t+=1)dt[t].l(E);E.forEach(n.d),y.forEach(n.d),R=(0,n.m)(p),L=(0,n.c)(p,"ASIDE",{class:!0});var $=(0,n.a)(L);S=(0,n.c)($,"H1",{});var w=(0,n.a)(S);T=(0,n.h)(w,t[0]),w.forEach(n.d),B=(0,n.m)($),j=(0,n.c)($,"H2",{});var x=(0,n.a)(j);C=(0,n.h)(x,t[9]),x.forEach(n.d),I=(0,n.m)($),P=(0,n.c)($,"DIV",{});var O=(0,n.a)(P);q=(0,n.h)(O,"HIGH SCORE"),D=(0,n.c)(O,"BR",{}),M=(0,n.h)(O,"\n\t\t\t0"),V=(0,n.c)(O,"BR",{}),U=(0,n.h)(O,"\n\t\t\tSCORE"),H=(0,n.c)(O,"BR",{}),F=(0,n.m)(O),z=(0,n.h)(O,t[3]),K=(0,n.c)(O,"BR",{}),Y=(0,n.h)(O,"\n\t\t\tLINES"),J=(0,n.c)(O,"BR",{}),W=(0,n.m)(O),X=(0,n.h)(O,t[4]),Q=(0,n.c)(O,"BR",{}),Z=(0,n.m)(O),tt=(0,n.c)(O,"BR",{}),et=(0,n.m)(O),st=(0,n.c)(O,"DIV",{class:!0});var A=(0,n.a)(st);for(let t=0;t<pt.length;t+=1)pt[t].l(A);A.forEach(n.d),O.forEach(n.d),nt=(0,n.m)($),mt&&mt.l($),$.forEach(n.d),rt=(0,n.m)(p),gt&&gt.l(p),p.forEach(n.d),this.h()},h(){(0,n.b)(v,"class","others svelte-motlbc"),(0,n.b)(N,"class","board svelte-motlbc"),(0,n.b)(_,"class","container svelte-motlbc"),(0,n.b)(st,"class","board next-piece svelte-motlbc"),(0,n.b)(L,"class","self svelte-motlbc"),(0,n.b)(b,"class","svelte-motlbc")},m(o,p){(0,n.y)(e,o,p),(0,n.g)(o,s,p),(0,n.y)(r,o,p),(0,n.g)(o,i,p),(0,n.y)(a,o,p),(0,n.g)(o,c,p),(0,n.y)(l,o,p),(0,n.g)(o,h,p),(0,n.y)(u,o,p),(0,n.g)(o,d,p),(0,n.y)(f,o,p),(0,n.g)(o,m,p),(0,n.g)(o,b,p),(0,n.G)(b,v);for(let t=0;t<lt.length;t+=1)lt[t].m(v,null);(0,n.G)(b,k),(0,n.G)(b,_),ht&&ht.m(_,null),(0,n.G)(_,G),(0,n.G)(_,N);for(let t=0;t<dt.length;t+=1)dt[t].m(N,null);(0,n.G)(b,R),(0,n.G)(b,L),(0,n.G)(L,S),(0,n.G)(S,T),(0,n.G)(L,B),(0,n.G)(L,j),(0,n.G)(j,C),(0,n.G)(L,I),(0,n.G)(L,P),(0,n.G)(P,q),(0,n.G)(P,D),(0,n.G)(P,M),(0,n.G)(P,V),(0,n.G)(P,U),(0,n.G)(P,H),(0,n.G)(P,F),(0,n.G)(P,z),(0,n.G)(P,K),(0,n.G)(P,Y),(0,n.G)(P,J),(0,n.G)(P,W),(0,n.G)(P,X),(0,n.G)(P,Q),(0,n.G)(P,Z),(0,n.G)(P,tt),(0,n.G)(P,et),(0,n.G)(P,st);for(let t=0;t<pt.length;t+=1)pt[t].m(st,null);(0,n.G)(L,nt),mt&&mt.m(L,null),(0,n.G)(b,rt),gt&&gt.m(b,null),ot=!0,it||(at=(0,n.M)(window,"keydown",t[13]),it=!0)},p(t,s){const o={};1&s[0]&&(o.on="notauthorized:"+t[0]),e.$set(o);const i={};1&s[0]&&(i.on="owner:"+t[0]),32&s[0]&&(i.handler=t[15]),r.$set(i);const a={};1&s[0]&&(a.on="endgame:"+t[0]),l.$set(a);const c={};1&s[0]&&(c.on="restart:"+t[0]),1&s[0]&&(c.handler=t[16]),u.$set(c);const h={};if(1&s[0]&&(h.on="gameInfo:"+t[0]),1118&s[0]&&(h.handler=t[17]),f.$set(h),2&s[0]){let e;for(ct=[...t[1].entries()],e=0;e<ct.length;e+=1){const n=y(t,ct,e);lt[e]?lt[e].p(n,s):(lt[e]=E(n),lt[e].c(),lt[e].m(v,null))}for(;e<lt.length;e+=1)lt[e].d(1);lt.length=ct.length}if(t[10]?ht?ht.p(t,s):(ht=$(t),ht.c(),ht.m(_,G)):ht&&(ht.d(1),ht=null),4&s[0]){let e;for(ut=t[2],e=0;e<ut.length;e+=1){const n=g(t,ut,e);dt[e]?dt[e].p(n,s):(dt[e]=w(n),dt[e].c(),dt[e].m(N,null))}for(;e<dt.length;e+=1)dt[e].d(1);dt.length=ut.length}if((!ot||1&s[0])&&(0,n.j)(T,t[0]),(!ot||512&s[0])&&(0,n.j)(C,t[9]),(!ot||8&s[0])&&(0,n.j)(z,t[3]),(!ot||16&s[0])&&(0,n.j)(X,t[4]),64&s[0]){let e;for(ft=t[6].shape,e=0;e<ft.length;e+=1){const n=p(t,ft,e);pt[e]?pt[e].p(n,s):(pt[e]=x(n),pt[e].c(),pt[e].m(st,null))}for(;e<pt.length;e+=1)pt[e].d(1);pt.length=ft.length}t[8]?mt&&(mt.d(1),mt=null):mt?mt.p(t,s):(mt=O(t),mt.c(),mt.m(L,null)),t[8]?gt?gt.p(t,s):(gt=A(t),gt.c(),gt.m(b,null)):gt&&(gt.d(1),gt=null)},i(t){ot||((0,n.q)(e.$$.fragment,t),(0,n.q)(r.$$.fragment,t),(0,n.q)(a.$$.fragment,t),(0,n.q)(l.$$.fragment,t),(0,n.q)(u.$$.fragment,t),(0,n.q)(f.$$.fragment,t),ot=!0)},o(t){(0,n.o)(e.$$.fragment,t),(0,n.o)(r.$$.fragment,t),(0,n.o)(a.$$.fragment,t),(0,n.o)(l.$$.fragment,t),(0,n.o)(u.$$.fragment,t),(0,n.o)(f.$$.fragment,t),ot=!1},d(t){(0,n.B)(e,t),t&&(0,n.d)(s),(0,n.B)(r,t),t&&(0,n.d)(i),(0,n.B)(a,t),t&&(0,n.d)(c),(0,n.B)(l,t),t&&(0,n.d)(h),(0,n.B)(u,t),t&&(0,n.d)(d),(0,n.B)(f,t),t&&(0,n.d)(m),t&&(0,n.d)(b),(0,n.L)(lt,t),ht&&ht.d(),(0,n.L)(dt,t),(0,n.L)(pt,t),mt&&mt.d(),gt&&gt.d(),it=!1,at()}}}function S(t,e,s){let o;(0,n.K)(t,r.u,(t=>s(9,o=t)));let i="",f=new Map,p=!1,m=new Array(20).fill().map((()=>new Array(10).fill(0))),g=0,b=0,y=!1,v={shape:[]},k=[],E=!1;function $(){r.s.emit("initgame",i)}return(0,n.v)((()=>{s(0,i=location.hash.slice(1).toLowerCase())||(0,r.g)("/rooms"),$()})),[i,f,m,g,b,y,v,k,E,o,p,$,function(t){console.log(t),s(7,k=t),s(8,E=!0)},t=>r.s.emit(`event:${i}`,t.key),()=>(0,r.g)("/rooms"),()=>{s(5,y=!0)},()=>(0,r.g)(`/room#${i}`),t=>{t.clientId===r.s.id?t.gameover?s(10,p=!0):(s(2,m=t.board),s(3,g=t.scores.score),s(4,b=t.scores.lines),s(6,v=t.nextShape),console.log(v.shape)):(t.gameover?f.set(t.clientId,((t,e)=>a(t,c({gameover:!0})))(((t,e)=>{for(var s in e||(e={}))h.call(e,s)&&d(t,s,e[s]);if(l)for(var s of l(e))u.call(e,s)&&d(t,s,e[s]);return t})({},f.get(t.clientId)))):f.set(t.clientId,{username:t.username,heights:t.heights,scores:t.scores}),s(1,f))},()=>{r.s.emit("leaveRoom"),(0,r.g)("/rooms")},()=>{r.s.emit("leaveRoom"),(0,r.g)("/rooms")},()=>{r.s.emit(`restart:${i}`)}]}class T extends n.S{constructor(t){super(),(0,n.i)(this,t,S,L,n.s,{},null,[-1,-1])}}},836:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var n=s(607),r=s(869),o=s(986);function i(t){let e,s,r,i,c,l,h,u,d,f,p,m,g,b,y,v,k={placeholder:"Enter an username",verify:a,maxlength:"16"};return f=new o.I({props:k}),t[1](f),{c(){e=(0,n.e)("main"),s=(0,n.e)("a"),r=(0,n.e)("img"),c=(0,n.k)(),l=(0,n.e)("form"),h=(0,n.e)("h2"),u=(0,n.t)("username"),d=(0,n.k)(),(0,n.w)(f.$$.fragment),p=(0,n.k)(),m=(0,n.e)("button"),g=(0,n.t)("PLAY"),this.h()},l(t){e=(0,n.c)(t,"MAIN",{class:!0});var o=(0,n.a)(e);s=(0,n.c)(o,"A",{id:!0,href:!0});var i=(0,n.a)(s);r=(0,n.c)(i,"IMG",{alt:!0,src:!0}),i.forEach(n.d),c=(0,n.m)(o),l=(0,n.c)(o,"FORM",{class:!0});var a=(0,n.a)(l);h=(0,n.c)(a,"H2",{});var b=(0,n.a)(h);u=(0,n.h)(b,"username"),b.forEach(n.d),d=(0,n.m)(a),(0,n.x)(f.$$.fragment,a),p=(0,n.m)(a),m=(0,n.c)(a,"BUTTON",{class:!0});var y=(0,n.a)(m);g=(0,n.h)(y,"PLAY"),y.forEach(n.d),a.forEach(n.d),o.forEach(n.d),this.h()},h(){(0,n.b)(r,"alt","logo"),(0,n.N)(r.src,i="/red-tetris-3d.png")||(0,n.b)(r,"src","/red-tetris-3d.png"),(0,n.b)(s,"id","logo"),(0,n.b)(s,"href","/"),(0,n.b)(m,"class","red-button"),(0,n.b)(l,"class","card"),(0,n.b)(e,"class","main")},m(o,i){(0,n.g)(o,e,i),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,c),(0,n.G)(e,l),(0,n.G)(l,h),(0,n.G)(h,u),(0,n.G)(l,d),(0,n.y)(f,l,null),(0,n.G)(l,p),(0,n.G)(l,m),(0,n.G)(m,g),b=!0,y||(v=(0,n.M)(l,"submit",t[2]),y=!0)},p(t,[e]){f.$set({})},i(t){b||((0,n.q)(f.$$.fragment,t),b=!0)},o(t){(0,n.o)(f.$$.fragment,t),b=!1},d(s){s&&(0,n.d)(e),t[1](null),(0,n.B)(f),y=!1,v()}}}s(249);const a=t=>t.trim()?/^[a-z0-9_-]*$/i.test(t)?void 0:"Username should only contains [a-z][0-9]_-":"Username required";function c(t,e,s){let o,i;return(0,n.K)(t,r.u,(t=>s(3,o=t))),(0,n.v)((()=>{i.focus(),i.setValue(o),i.setError(history.state.userNameError)})),[i,function(t){n.O[t?"unshift":"push"]((()=>{i=t,s(0,i)}))},t=>{t.preventDefault(),i.ok()&&(r.u.set(i.getValue()),(0,r.g)("/rooms"))}]}class l extends n.S{constructor(t){super(),(0,n.i)(this,t,c,i,n.s,{})}}},690:(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var n=s(607),r=s(869),o=s(318);function i(t,e,s){const n=t.slice();return n[25]=e[s],n}function a(t){let e,s,r,o=t[25]+"";return{c(){e=(0,n.e)("div"),s=(0,n.t)("- "),r=(0,n.t)(o)},l(t){e=(0,n.c)(t,"DIV",{});var i=(0,n.a)(e);s=(0,n.h)(i,"- "),r=(0,n.h)(i,o),i.forEach(n.d)},m(t,o){(0,n.g)(t,e,o),(0,n.G)(e,s),(0,n.G)(e,r)},p(t,e){2&e&&o!==(o=t[25]+"")&&(0,n.j)(r,o)},d(t){t&&(0,n.d)(e)}}}function c(t){let e,s,r,o;return{c(){e=(0,n.e)("button"),s=(0,n.t)("START"),this.h()},l(t){e=(0,n.c)(t,"BUTTON",{class:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"START"),r.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","red-button")},m(i,a){(0,n.g)(i,e,a),(0,n.G)(e,s),r||(o=(0,n.M)(e,"click",t[23]),r=!0)},p:n.E,d(t){t&&(0,n.d)(e),r=!1,o()}}}function l(t){let e,s;return{c(){e=(0,n.e)("p"),s=(0,n.t)("Waiting for owner to start the game...")},l(t){e=(0,n.c)(t,"P",{});var r=(0,n.a)(e);s=(0,n.h)(r,"Waiting for owner to start the game..."),r.forEach(n.d)},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},d(t){t&&(0,n.d)(e)}}}function h(t){let e,s,r,h,u,d,f,p,m,g,b,y,v,k,E,$,_,w,G,x,O,A,N,R,L,S,T,B,j,C,I,P,q,D,M,V,U,H,F,z,K,Y,J,W,X,Q,Z,tt,et,st,nt,rt,ot,it,at,ct,lt,ht;e=new o.L({props:{on:"roomNameError",handler:t[6]}}),r=new o.L({props:{on:"userNameError",handler:t[7]}}),u=new o.L({props:{on:"join:"+t[0],handler:t[8]}}),f=new o.L({props:{on:"start:"+t[0],handler:t[9]}}),m=new o.L({props:{on:"connect",handler:t[5]}}),b=new o.L({props:{on:"gameMode:"+t[0],handler:t[10]}}),v=new o.L({props:{on:"owner:"+t[0],handler:t[11]}});let ut=t[1],dt=[];for(let e=0;e<ut.length;e+=1)dt[e]=a(i(t,ut,e));let ft=t[2]&&c(t),pt=!t[2]&&l();return{c(){(0,n.w)(e.$$.fragment),s=(0,n.k)(),(0,n.w)(r.$$.fragment),h=(0,n.k)(),(0,n.w)(u.$$.fragment),d=(0,n.k)(),(0,n.w)(f.$$.fragment),p=(0,n.k)(),(0,n.w)(m.$$.fragment),g=(0,n.k)(),(0,n.w)(b.$$.fragment),y=(0,n.k)(),(0,n.w)(v.$$.fragment),k=(0,n.k)(),E=(0,n.e)("main"),$=(0,n.e)("a"),_=(0,n.e)("img"),G=(0,n.k)(),x=(0,n.e)("div"),O=(0,n.e)("h1"),A=(0,n.t)(t[0]),N=(0,n.k)();for(let t=0;t<dt.length;t+=1)dt[t].c();R=(0,n.k)(),L=(0,n.e)("div"),S=(0,n.e)("input"),T=(0,n.k)(),B=(0,n.e)("label"),j=(0,n.e)("img"),I=(0,n.k)(),P=(0,n.e)("input"),q=(0,n.k)(),D=(0,n.e)("label"),M=(0,n.e)("img"),U=(0,n.k)(),H=(0,n.e)("input"),F=(0,n.k)(),z=(0,n.e)("label"),K=(0,n.e)("img"),J=(0,n.k)(),W=(0,n.e)("input"),X=(0,n.k)(),Q=(0,n.e)("label"),Z=(0,n.e)("img"),st=(0,n.k)(),nt=(0,n.e)("div"),rt=(0,n.e)("button"),ot=(0,n.t)("LEAVE"),it=(0,n.k)(),ft&&ft.c(),at=(0,n.k)(),pt&&pt.c(),this.h()},l(o){(0,n.x)(e.$$.fragment,o),s=(0,n.m)(o),(0,n.x)(r.$$.fragment,o),h=(0,n.m)(o),(0,n.x)(u.$$.fragment,o),d=(0,n.m)(o),(0,n.x)(f.$$.fragment,o),p=(0,n.m)(o),(0,n.x)(m.$$.fragment,o),g=(0,n.m)(o),(0,n.x)(b.$$.fragment,o),y=(0,n.m)(o),(0,n.x)(v.$$.fragment,o),k=(0,n.m)(o),E=(0,n.c)(o,"MAIN",{class:!0});var i=(0,n.a)(E);$=(0,n.c)(i,"A",{id:!0,href:!0});var a=(0,n.a)($);_=(0,n.c)(a,"IMG",{alt:!0,src:!0}),a.forEach(n.d),G=(0,n.m)(i),x=(0,n.c)(i,"DIV",{class:!0});var c=(0,n.a)(x);O=(0,n.c)(c,"H1",{});var l=(0,n.a)(O);A=(0,n.h)(l,t[0]),l.forEach(n.d),N=(0,n.m)(c);for(let t=0;t<dt.length;t+=1)dt[t].l(c);R=(0,n.m)(c),L=(0,n.c)(c,"DIV",{class:!0});var w=(0,n.a)(L);S=(0,n.c)(w,"INPUT",{type:!0,name:!0,id:!0,class:!0}),T=(0,n.m)(w),B=(0,n.c)(w,"LABEL",{class:!0,for:!0});var C=(0,n.a)(B);j=(0,n.c)(C,"IMG",{src:!0,alt:!0,class:!0}),C.forEach(n.d),I=(0,n.m)(w),P=(0,n.c)(w,"INPUT",{type:!0,name:!0,id:!0,class:!0}),q=(0,n.m)(w),D=(0,n.c)(w,"LABEL",{class:!0,for:!0});var V=(0,n.a)(D);M=(0,n.c)(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(n.d),U=(0,n.m)(w),H=(0,n.c)(w,"INPUT",{type:!0,name:!0,id:!0,class:!0}),F=(0,n.m)(w),z=(0,n.c)(w,"LABEL",{class:!0,for:!0});var Y=(0,n.a)(z);K=(0,n.c)(Y,"IMG",{src:!0,alt:!0,class:!0}),Y.forEach(n.d),J=(0,n.m)(w),W=(0,n.c)(w,"INPUT",{type:!0,name:!0,id:!0,class:!0}),X=(0,n.m)(w),Q=(0,n.c)(w,"LABEL",{class:!0,for:!0});var tt=(0,n.a)(Q);Z=(0,n.c)(tt,"IMG",{src:!0,alt:!0,class:!0}),tt.forEach(n.d),w.forEach(n.d),st=(0,n.m)(c),nt=(0,n.c)(c,"DIV",{class:!0});var et=(0,n.a)(nt);rt=(0,n.c)(et,"BUTTON",{class:!0});var ct=(0,n.a)(rt);ot=(0,n.h)(ct,"LEAVE"),ct.forEach(n.d),it=(0,n.m)(et),ft&&ft.l(et),et.forEach(n.d),c.forEach(n.d),at=(0,n.m)(i),pt&&pt.l(i),i.forEach(n.d),this.h()},h(){(0,n.b)(_,"alt","logo"),(0,n.N)(_.src,w="/red-tetris-3d.png")||(0,n.b)(_,"src","/red-tetris-3d.png"),(0,n.b)($,"id","logo"),(0,n.b)($,"href","/"),(0,n.b)(S,"type","radio"),(0,n.b)(S,"name","gameMode"),S.__value="moon",S.value=S.__value,(0,n.b)(S,"id","moon"),(0,n.b)(S,"class","svelte-101qcr2"),t[14][0].push(S),(0,n.N)(j.src,C="/game-mode/moon.png")||(0,n.b)(j,"src","/game-mode/moon.png"),(0,n.b)(j,"alt",""),(0,n.b)(j,"class","svelte-101qcr2"),(0,n.b)(B,"class","red-button svelte-101qcr2"),(0,n.b)(B,"for","moon"),(0,n.b)(P,"type","radio"),(0,n.b)(P,"name","gameMode"),P.__value="earth",P.value=P.__value,(0,n.b)(P,"id","earth"),(0,n.b)(P,"class","svelte-101qcr2"),t[14][0].push(P),(0,n.N)(M.src,V="/game-mode/earth.png")||(0,n.b)(M,"src","/game-mode/earth.png"),(0,n.b)(M,"alt",""),(0,n.b)(M,"class","svelte-101qcr2"),(0,n.b)(D,"class","red-button svelte-101qcr2"),(0,n.b)(D,"for","earth"),(0,n.b)(H,"type","radio"),(0,n.b)(H,"name","gameMode"),H.__value="sun",H.value=H.__value,(0,n.b)(H,"id","sun"),(0,n.b)(H,"class","svelte-101qcr2"),t[14][0].push(H),(0,n.N)(K.src,Y="/game-mode/sun.png")||(0,n.b)(K,"src","/game-mode/sun.png"),(0,n.b)(K,"alt",""),(0,n.b)(K,"class","svelte-101qcr2"),(0,n.b)(z,"class","red-button svelte-101qcr2"),(0,n.b)(z,"for","sun"),(0,n.b)(W,"type","radio"),(0,n.b)(W,"name","gameMode"),W.__value="blackhole",W.value=W.__value,(0,n.b)(W,"id","blackhole"),(0,n.b)(W,"class","svelte-101qcr2"),t[14][0].push(W),(0,n.N)(Z.src,tt="/game-mode/blackhole.png")||(0,n.b)(Z,"src","/game-mode/blackhole.png"),(0,n.b)(Z,"alt",""),(0,n.b)(Z,"class","svelte-101qcr2"),(0,n.b)(Q,"class","red-button svelte-101qcr2"),(0,n.b)(Q,"for","blackhole"),(0,n.b)(L,"class",et="action "+(t[2]?"":"disabled")+" svelte-101qcr2"),(0,n.b)(rt,"class","red-button"),(0,n.b)(nt,"class","action"),(0,n.b)(x,"class","card"),(0,n.b)(E,"class","main")},m(o,i){(0,n.y)(e,o,i),(0,n.g)(o,s,i),(0,n.y)(r,o,i),(0,n.g)(o,h,i),(0,n.y)(u,o,i),(0,n.g)(o,d,i),(0,n.y)(f,o,i),(0,n.g)(o,p,i),(0,n.y)(m,o,i),(0,n.g)(o,g,i),(0,n.y)(b,o,i),(0,n.g)(o,y,i),(0,n.y)(v,o,i),(0,n.g)(o,k,i),(0,n.g)(o,E,i),(0,n.G)(E,$),(0,n.G)($,_),(0,n.G)(E,G),(0,n.G)(E,x),(0,n.G)(x,O),(0,n.G)(O,A),(0,n.G)(x,N);for(let t=0;t<dt.length;t+=1)dt[t].m(x,null);(0,n.G)(x,R),(0,n.G)(x,L),(0,n.G)(L,S),S.checked=S.__value===t[3],(0,n.G)(L,T),(0,n.G)(L,B),(0,n.G)(B,j),(0,n.G)(L,I),(0,n.G)(L,P),P.checked=P.__value===t[3],(0,n.G)(L,q),(0,n.G)(L,D),(0,n.G)(D,M),(0,n.G)(L,U),(0,n.G)(L,H),H.checked=H.__value===t[3],(0,n.G)(L,F),(0,n.G)(L,z),(0,n.G)(z,K),(0,n.G)(L,J),(0,n.G)(L,W),W.checked=W.__value===t[3],(0,n.G)(L,X),(0,n.G)(L,Q),(0,n.G)(Q,Z),(0,n.G)(x,st),(0,n.G)(x,nt),(0,n.G)(nt,rt),(0,n.G)(rt,ot),(0,n.G)(nt,it),ft&&ft.m(nt,null),(0,n.G)(E,at),pt&&pt.m(E,null),ct=!0,lt||(ht=[(0,n.M)($,"click",t[12]),(0,n.M)(S,"change",t[13]),(0,n.M)(S,"change",t[15]),(0,n.M)(P,"change",t[16]),(0,n.M)(P,"change",t[17]),(0,n.M)(H,"change",t[18]),(0,n.M)(H,"change",t[19]),(0,n.M)(W,"change",t[20]),(0,n.M)(W,"change",t[21]),(0,n.M)(rt,"click",t[22])],lt=!0)},p(t,[e]){const s={};1&e&&(s.on="join:"+t[0]),2&e&&(s.handler=t[8]),u.$set(s);const r={};1&e&&(r.on="start:"+t[0]),1&e&&(r.handler=t[9]),f.$set(r);const o={};1&e&&(o.on="gameMode:"+t[0]),8&e&&(o.handler=t[10]),b.$set(o);const h={};if(1&e&&(h.on="owner:"+t[0]),4&e&&(h.handler=t[11]),v.$set(h),(!ct||1&e)&&(0,n.j)(A,t[0]),2&e){let s;for(ut=t[1],s=0;s<ut.length;s+=1){const n=i(t,ut,s);dt[s]?dt[s].p(n,e):(dt[s]=a(n),dt[s].c(),dt[s].m(x,R))}for(;s<dt.length;s+=1)dt[s].d(1);dt.length=ut.length}8&e&&(S.checked=S.__value===t[3]),8&e&&(P.checked=P.__value===t[3]),8&e&&(H.checked=H.__value===t[3]),8&e&&(W.checked=W.__value===t[3]),(!ct||4&e&&et!==(et="action "+(t[2]?"":"disabled")+" svelte-101qcr2"))&&(0,n.b)(L,"class",et),t[2]?ft?ft.p(t,e):(ft=c(t),ft.c(),ft.m(nt,null)):ft&&(ft.d(1),ft=null),t[2]?pt&&(pt.d(1),pt=null):pt||(pt=l(),pt.c(),pt.m(E,null))},i(t){ct||((0,n.q)(e.$$.fragment,t),(0,n.q)(r.$$.fragment,t),(0,n.q)(u.$$.fragment,t),(0,n.q)(f.$$.fragment,t),(0,n.q)(m.$$.fragment,t),(0,n.q)(b.$$.fragment,t),(0,n.q)(v.$$.fragment,t),ct=!0)},o(t){(0,n.o)(e.$$.fragment,t),(0,n.o)(r.$$.fragment,t),(0,n.o)(u.$$.fragment,t),(0,n.o)(f.$$.fragment,t),(0,n.o)(m.$$.fragment,t),(0,n.o)(b.$$.fragment,t),(0,n.o)(v.$$.fragment,t),ct=!1},d(o){(0,n.B)(e,o),o&&(0,n.d)(s),(0,n.B)(r,o),o&&(0,n.d)(h),(0,n.B)(u,o),o&&(0,n.d)(d),(0,n.B)(f,o),o&&(0,n.d)(p),(0,n.B)(m,o),o&&(0,n.d)(g),(0,n.B)(b,o),o&&(0,n.d)(y),(0,n.B)(v,o),o&&(0,n.d)(k),o&&(0,n.d)(E),(0,n.L)(dt,o),t[14][0].splice(t[14][0].indexOf(S),1),t[14][0].splice(t[14][0].indexOf(P),1),t[14][0].splice(t[14][0].indexOf(H),1),t[14][0].splice(t[14][0].indexOf(W),1),ft&&ft.d(),pt&&pt.d(),lt=!1,(0,n.Q)(ht)}}}function u(t,e,s){let o;(0,n.K)(t,r.u,(t=>s(24,o=t)));let i,a="",c=[],l=!1;function h(t){r.s.emit(`gameMode:${a}`,t)}function u(){r.s.emit("joinRoom",{name:a,user:o}),h(void 0)}return(0,n.v)((()=>(s(0,a=location.hash.slice(1).toLowerCase()),u(),()=>{s(2,l=!1)}))),[a,c,l,i,h,u,t=>{(0,r.g)("/rooms",{state:{roomNameError:t}})},t=>{(0,r.g)("/",{state:{userNameError:t}})},t=>{s(1,c=t)},()=>{(0,r.g)(`/game#${a}`)},t=>{s(3,i=t)},()=>{s(2,l=!0)},()=>{r.s.emit("leaveRoom")},function(){i=this.__value,s(3,i)},[[]],()=>h(i),function(){i=this.__value,s(3,i)},()=>h(i),function(){i=this.__value,s(3,i)},()=>h(i),function(){i=this.__value,s(3,i)},()=>h(i),()=>{r.s.emit("leaveRoom"),(0,r.g)("/rooms")},()=>r.s.emit(`start:${a}`)]}s(249);class d extends n.S{constructor(t){super(),(0,n.i)(this,t,u,h,n.s,{})}}},279:(t,e,s)=>{s.r(e),s.d(e,{default:()=>$});var n=s(607),r=s(869),o=s(986),i=s(318);function a(t,e,s){const n=t.slice();return n[9]=e[s],n}function c(t,e,s){const n=t.slice();return n[12]=e[s],n}function l(t,e,s){const n=t.slice();return n[9]=e[s],n}function h(t){let e,s;return{c(){e=(0,n.e)("p"),s=(0,n.t)("No game yet"),this.h()},l(t){e=(0,n.c)(t,"P",{style:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"No game yet"),r.forEach(n.d),this.h()},h(){(0,n.f)(e,"text-align","center")},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p:n.E,d(t){t&&(0,n.d)(e)}}}function u(t){let e,s=t[1],r=[];for(let e=0;e<s.length;e+=1)r[e]=d(l(t,s,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=(0,n.l)()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=(0,n.l)()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);(0,n.g)(t,e,s)},p(t,n){if(2&n){let o;for(s=t[1],o=0;o<s.length;o+=1){const i=l(t,s,o);r[o]?r[o].p(i,n):(r[o]=d(i),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(t){(0,n.L)(r,t),t&&(0,n.d)(e)}}}function d(t){let e,s,r,o,i,a,c,l=t[9].username+"",h=t[9].score+"";return{c(){e=(0,n.e)("div"),s=(0,n.e)("span"),r=(0,n.t)(l),o=(0,n.k)(),i=(0,n.e)("span"),a=(0,n.t)(h),c=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var u=(0,n.a)(e);s=(0,n.c)(u,"SPAN",{});var d=(0,n.a)(s);r=(0,n.h)(d,l),d.forEach(n.d),o=(0,n.m)(u),i=(0,n.c)(u,"SPAN",{});var f=(0,n.a)(i);a=(0,n.h)(f,h),f.forEach(n.d),c=(0,n.m)(u),u.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","score svelte-1uappw5")},m(t,l){(0,n.g)(t,e,l),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(i,a),(0,n.G)(e,c)},p(t,e){2&e&&l!==(l=t[9].username+"")&&(0,n.j)(r,l),2&e&&h!==(h=t[9].score+"")&&(0,n.j)(a,h)},d(t){t&&(0,n.d)(e)}}}function f(t){let e,s;return{c(){e=(0,n.e)("p"),s=(0,n.t)("Currently no room available")},l(t){e=(0,n.c)(t,"P",{});var r=(0,n.a)(e);s=(0,n.h)(r,"Currently no room available"),r.forEach(n.d)},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p:n.E,d(t){t&&(0,n.d)(e)}}}function p(t){let e,s=t[3],r=[];for(let e=0;e<s.length;e+=1)r[e]=m(c(t,s,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=(0,n.l)()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=(0,n.l)()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);(0,n.g)(t,e,s)},p(t,n){if(8&n){let o;for(s=t[3],o=0;o<s.length;o+=1){const i=c(t,s,o);r[o]?r[o].p(i,n):(r[o]=m(i),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(t){(0,n.L)(r,t),t&&(0,n.d)(e)}}}function m(t){let e,s,o,i,a,c,l,h,u,d,f,p,m=t[12].name+"",g=t[12].nbPlayer+"";return{c(){e=(0,n.e)("div"),s=(0,n.e)("p"),o=(0,n.t)(m),i=(0,n.k)(),a=(0,n.e)("p"),c=(0,n.t)(g),l=(0,n.k)(),h=(0,n.e)("button"),u=(0,n.t)("join"),d=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var r=(0,n.a)(e);s=(0,n.c)(r,"P",{class:!0});var f=(0,n.a)(s);o=(0,n.h)(f,m),f.forEach(n.d),i=(0,n.m)(r),a=(0,n.c)(r,"P",{class:!0});var p=(0,n.a)(a);c=(0,n.h)(p,g),p.forEach(n.d),l=(0,n.m)(r),h=(0,n.c)(r,"BUTTON",{class:!0});var b=(0,n.a)(h);u=(0,n.h)(b,"join"),b.forEach(n.d),d=(0,n.m)(r),r.forEach(n.d),this.h()},h(){(0,n.b)(s,"class","room-list-title svelte-1uappw5"),(0,n.b)(a,"class","room-number svelte-1uappw5"),(0,n.b)(h,"class","red-button room-button svelte-1uappw5"),(0,n.b)(e,"class","room-card svelte-1uappw5")},m(m,g){(0,n.g)(m,e,g),(0,n.G)(e,s),(0,n.G)(s,o),(0,n.G)(e,i),(0,n.G)(e,a),(0,n.G)(a,c),(0,n.G)(e,l),(0,n.G)(e,h),(0,n.G)(h,u),(0,n.G)(e,d),f||(p=(0,n.M)(h,"click",(function(){(0,n.R)((0,r.g)(`/room#${t[12].name}`))&&(0,r.g)(`/room#${t[12].name}`).apply(this,arguments)})),f=!0)},p(e,s){t=e,8&s&&m!==(m=t[12].name+"")&&(0,n.j)(o,m),8&s&&g!==(g=t[12].nbPlayer+"")&&(0,n.j)(c,g)},d(t){t&&(0,n.d)(e),f=!1,p()}}}function g(t){let e,s;return{c(){e=(0,n.e)("p"),s=(0,n.t)("No game yet"),this.h()},l(t){e=(0,n.c)(t,"P",{style:!0});var r=(0,n.a)(e);s=(0,n.h)(r,"No game yet"),r.forEach(n.d),this.h()},h(){(0,n.f)(e,"text-align","center")},m(t,r){(0,n.g)(t,e,r),(0,n.G)(e,s)},p:n.E,d(t){t&&(0,n.d)(e)}}}function b(t){let e,s=t[2],r=[];for(let e=0;e<s.length;e+=1)r[e]=y(a(t,s,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=(0,n.l)()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=(0,n.l)()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);(0,n.g)(t,e,s)},p(t,n){if(4&n){let o;for(s=t[2],o=0;o<s.length;o+=1){const i=a(t,s,o);r[o]?r[o].p(i,n):(r[o]=y(i),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(t){(0,n.L)(r,t),t&&(0,n.d)(e)}}}function y(t){let e,s,r,o,i,a,c,l=t[9].username+"",h=t[9].score+"";return{c(){e=(0,n.e)("div"),s=(0,n.e)("span"),r=(0,n.t)(l),o=(0,n.k)(),i=(0,n.e)("span"),a=(0,n.t)(h),c=(0,n.k)(),this.h()},l(t){e=(0,n.c)(t,"DIV",{class:!0});var u=(0,n.a)(e);s=(0,n.c)(u,"SPAN",{});var d=(0,n.a)(s);r=(0,n.h)(d,l),d.forEach(n.d),o=(0,n.m)(u),i=(0,n.c)(u,"SPAN",{});var f=(0,n.a)(i);a=(0,n.h)(f,h),f.forEach(n.d),c=(0,n.m)(u),u.forEach(n.d),this.h()},h(){(0,n.b)(e,"class","score svelte-1uappw5")},m(t,l){(0,n.g)(t,e,l),(0,n.G)(e,s),(0,n.G)(s,r),(0,n.G)(e,o),(0,n.G)(e,i),(0,n.G)(i,a),(0,n.G)(e,c)},p(t,e){4&e&&l!==(l=t[9].username+"")&&(0,n.j)(r,l),4&e&&h!==(h=t[9].score+"")&&(0,n.j)(a,h)},d(t){t&&(0,n.d)(e)}}}function v(t){let e,s,r,a,c,l,d,m,y,v,E,$,_,w,G,x,O,A,N,R,L,S,T,B,j,C,I,P,q,D,M,V,U,H,F,z,K;function Y(t,e){return t[1].length?u:h}e=new i.L({props:{on:"roomList",handler:t[4]}}),r=new i.L({props:{on:"scoresList",handler:t[5]}});let J=Y(t),W=J(t),X={placeholder:"Enter a roomname",verify:k,maxlength:"16"};function Q(t,e){return t[3].length?p:f}L=new o.I({props:X}),t[6](L);let Z=Q(t),tt=Z(t);function et(t,e){return t[2].length?b:g}let st=et(t),nt=st(t);return{c(){(0,n.w)(e.$$.fragment),s=(0,n.k)(),(0,n.w)(r.$$.fragment),a=(0,n.k)(),c=(0,n.e)("main"),l=(0,n.e)("a"),d=(0,n.e)("img"),y=(0,n.k)(),v=(0,n.e)("div"),E=(0,n.e)("div"),$=(0,n.e)("h2"),_=(0,n.t)("User scores"),w=(0,n.k)(),W.c(),G=(0,n.k)(),x=(0,n.e)("div"),O=(0,n.e)("form"),A=(0,n.e)("h2"),N=(0,n.t)("Create / Join room"),R=(0,n.k)(),(0,n.w)(L.$$.fragment),S=(0,n.k)(),T=(0,n.e)("button"),B=(0,n.t)("JOIN"),j=(0,n.k)(),C=(0,n.e)("div"),I=(0,n.e)("h2"),P=(0,n.t)("Room List"),q=(0,n.k)(),tt.c(),D=(0,n.k)(),M=(0,n.e)("div"),V=(0,n.e)("h2"),U=(0,n.t)("Bests scores"),H=(0,n.k)(),nt.c(),this.h()},l(t){(0,n.x)(e.$$.fragment,t),s=(0,n.m)(t),(0,n.x)(r.$$.fragment,t),a=(0,n.m)(t),c=(0,n.c)(t,"MAIN",{class:!0});var o=(0,n.a)(c);l=(0,n.c)(o,"A",{id:!0,href:!0});var i=(0,n.a)(l);d=(0,n.c)(i,"IMG",{alt:!0,src:!0}),i.forEach(n.d),y=(0,n.m)(o),v=(0,n.c)(o,"DIV",{class:!0});var h=(0,n.a)(v);E=(0,n.c)(h,"DIV",{class:!0});var u=(0,n.a)(E);$=(0,n.c)(u,"H2",{});var f=(0,n.a)($);_=(0,n.h)(f,"User scores"),f.forEach(n.d),w=(0,n.m)(u),W.l(u),u.forEach(n.d),G=(0,n.m)(h),x=(0,n.c)(h,"DIV",{class:!0});var p=(0,n.a)(x);O=(0,n.c)(p,"FORM",{class:!0});var m=(0,n.a)(O);A=(0,n.c)(m,"H2",{});var g=(0,n.a)(A);N=(0,n.h)(g,"Create / Join room"),g.forEach(n.d),R=(0,n.m)(m),(0,n.x)(L.$$.fragment,m),S=(0,n.m)(m),T=(0,n.c)(m,"BUTTON",{class:!0});var b=(0,n.a)(T);B=(0,n.h)(b,"JOIN"),b.forEach(n.d),m.forEach(n.d),j=(0,n.m)(p),C=(0,n.c)(p,"DIV",{class:!0});var k=(0,n.a)(C);I=(0,n.c)(k,"H2",{});var F=(0,n.a)(I);P=(0,n.h)(F,"Room List"),F.forEach(n.d),q=(0,n.m)(k),tt.l(k),k.forEach(n.d),p.forEach(n.d),D=(0,n.m)(h),M=(0,n.c)(h,"DIV",{class:!0});var z=(0,n.a)(M);V=(0,n.c)(z,"H2",{});var K=(0,n.a)(V);U=(0,n.h)(K,"Bests scores"),K.forEach(n.d),H=(0,n.m)(z),nt.l(z),z.forEach(n.d),h.forEach(n.d),o.forEach(n.d),this.h()},h(){(0,n.b)(d,"alt","logo"),(0,n.N)(d.src,m="/red-tetris-3d.png")||(0,n.b)(d,"src","/red-tetris-3d.png"),(0,n.b)(l,"id","logo"),(0,n.b)(l,"href","/"),(0,n.b)(E,"class","card scores svelte-1uappw5"),(0,n.b)(T,"class","red-button"),(0,n.b)(O,"class","card"),(0,n.b)(C,"class","card"),(0,n.b)(x,"class","vflex svelte-1uappw5"),(0,n.b)(M,"class","card scores svelte-1uappw5"),(0,n.b)(v,"class","hflex svelte-1uappw5"),(0,n.b)(c,"class","main")},m(o,i){(0,n.y)(e,o,i),(0,n.g)(o,s,i),(0,n.y)(r,o,i),(0,n.g)(o,a,i),(0,n.g)(o,c,i),(0,n.G)(c,l),(0,n.G)(l,d),(0,n.G)(c,y),(0,n.G)(c,v),(0,n.G)(v,E),(0,n.G)(E,$),(0,n.G)($,_),(0,n.G)(E,w),W.m(E,null),(0,n.G)(v,G),(0,n.G)(v,x),(0,n.G)(x,O),(0,n.G)(O,A),(0,n.G)(A,N),(0,n.G)(O,R),(0,n.y)(L,O,null),(0,n.G)(O,S),(0,n.G)(O,T),(0,n.G)(T,B),(0,n.G)(x,j),(0,n.G)(x,C),(0,n.G)(C,I),(0,n.G)(I,P),(0,n.G)(C,q),tt.m(C,null),(0,n.G)(v,D),(0,n.G)(v,M),(0,n.G)(M,V),(0,n.G)(V,U),(0,n.G)(M,H),nt.m(M,null),F=!0,z||(K=(0,n.M)(O,"submit",t[7]),z=!0)},p(t,[s]){const n={};8&s&&(n.handler=t[4]),e.$set(n);const o={};6&s&&(o.handler=t[5]),r.$set(o),J===(J=Y(t))&&W?W.p(t,s):(W.d(1),W=J(t),W&&(W.c(),W.m(E,null))),L.$set({}),Z===(Z=Q(t))&&tt?tt.p(t,s):(tt.d(1),tt=Z(t),tt&&(tt.c(),tt.m(C,null))),st===(st=et(t))&&nt?nt.p(t,s):(nt.d(1),nt=st(t),nt&&(nt.c(),nt.m(M,null)))},i(t){F||((0,n.q)(e.$$.fragment,t),(0,n.q)(r.$$.fragment,t),(0,n.q)(L.$$.fragment,t),F=!0)},o(t){(0,n.o)(e.$$.fragment,t),(0,n.o)(r.$$.fragment,t),(0,n.o)(L.$$.fragment,t),F=!1},d(o){(0,n.B)(e,o),o&&(0,n.d)(s),(0,n.B)(r,o),o&&(0,n.d)(a),o&&(0,n.d)(c),W.d(),t[6](null),(0,n.B)(L),tt.d(),nt.d(),z=!1,K()}}}s(249);const k=t=>t?/^[a-z0-9_-]*$/i.test(t)?void 0:"Roomname should only contains [a-z][0-9]_-":"Roomname required";function E(t,e,s){let o;(0,n.K)(t,r.u,(t=>s(8,o=t)));let i,a=[],c=[],l=[];return(0,n.v)((()=>{r.s.emit("getRoomList"),r.s.emit("getScoresList",o),i.focus(),i.setError(history.state.roomNameError)})),[i,a,c,l,t=>{s(3,l=t)},t=>{s(1,a=t.userScores),s(2,c=t.bestScores)},function(t){n.O[t?"unshift":"push"]((()=>{i=t,s(0,i)}))},t=>{t.preventDefault(),i.ok()&&(0,r.g)(`/room#${i.getValue().toLowerCase()}`)}]}class $ extends n.S{constructor(t){super(),(0,n.i)(this,t,E,v,n.s,{})}}}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{s(607),s(249),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const t={},e=function(e,s){return s&&0!==s.length?Promise.all(s.map((e=>{if((e=`/_app/immutable/${e}`)in t)return;t[e]=!0;const s=e.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=s?"stylesheet":"modulepreload",s||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),s?new Promise(((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()},n=[()=>e((()=>Promise.resolve().then(s.bind(s,655))),["pages/__layout.svelte-14f06d4e.js","assets/pages/__layout.svelte-7dbccc91.css","chunks/index-e3403faa.js","chunks/navigation-bc679d77.js","chunks/singletons-821506ee.js"]),()=>e((()=>Promise.resolve().then(s.bind(s,50))),["error.svelte-e4e01923.js","chunks/index-e3403faa.js"]),()=>e((()=>Promise.resolve().then(s.bind(s,423))),["pages/game.svelte-13da81ce.js","assets/pages/game.svelte-04d7ac51.css","chunks/index-e3403faa.js","chunks/navigation-bc679d77.js","chunks/singletons-821506ee.js","chunks/Listener-f4bb6e30.js"]),()=>e((()=>Promise.resolve().then(s.bind(s,836))),["pages/index.svelte-b03af14e.js","chunks/index-e3403faa.js","chunks/navigation-bc679d77.js","chunks/singletons-821506ee.js","chunks/Input-e2d482c7.js"]),()=>e((()=>Promise.resolve().then(s.bind(s,690))),["pages/room.svelte-26dbaf69.js","assets/pages/room.svelte-98c311df.css","chunks/index-e3403faa.js","chunks/navigation-bc679d77.js","chunks/singletons-821506ee.js","chunks/Listener-f4bb6e30.js"]),()=>e((()=>Promise.resolve().then(s.bind(s,279))),["pages/rooms.svelte-dfedcd3c.js","assets/pages/rooms.svelte-b7f229bb.css","chunks/index-e3403faa.js","chunks/navigation-bc679d77.js","chunks/singletons-821506ee.js","chunks/Input-e2d482c7.js","chunks/Listener-f4bb6e30.js"])];window.fetch;const r=/^(\.\.\.)?(\w+)(?:=(\w+))?$/;var o,i,a;o=n,i={"":[[0,3],[1]],game:[[0,2],[1]],room:[[0,4],[1]],rooms:[[0,5],[1]]},a={},Object.entries(i).map((([t,[e,s,n]])=>{const{pattern:i,names:c,types:l}=function(t){const e=[],s=[];let n=!0;return{pattern:""===t?/^\/$/:new RegExp(`^${decodeURIComponent(t).split(/(?:@[a-zA-Z0-9_-]+)?(?:\/|$)/).map(((t,o,i)=>{const a=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(t);if(a)return e.push(a[1]),s.push(a[2]),"(?:/(.*))?";const c=o===i.length-1;return t&&"/"+t.split(/\[(.+?)\]/).map(((t,o)=>{if(o%2){const[,n,o,i]=r.exec(t);return e.push(o),s.push(i),n?"(.*?)":"([^/]+?)"}return c&&t.includes(".")&&(n=!1),t.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("")})).join("")}${n?"/?":""}$`),names:e,types:s}}(t);return{id:t,exec:t=>{const e=i.exec(t);if(e)return function(t,e,s,n){const r={};for(let o=0;o<e.length;o+=1){const i=e[o],a=s[o],c=t[o+1]||"";if(a){const t=n[a];if(!t)throw new Error(`Missing "${a}" param matcher`);if(!t(c))return}r[i]=c}return r}(e,c,l,a)},a:e.map((t=>o[t])),b:s.map((t=>o[t])),has_shadow:!!n}})),n[0](),n[1]();let c={};try{c=JSON.parse(sessionStorage["sveltekit:scroll"])}catch{}})()})();